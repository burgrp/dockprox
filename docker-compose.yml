version: "2"
services:

  n1:
    image: nginxdemos/hello
    restart: always
    labels:
      cz.drake.proxy.domain: "*.zzz.com"
      cz.drake.proxy.port: "80"
      cz.drake.proxy.path: "/tmp"
  n2:
    image: nginxdemos/hello
    restart: always
    labels:
      cz.drake.proxy.domain: "*"
      cz.drake.proxy.port: "80"
      cz.drake.proxy.secure: "false"
  n3:
    image: nginxdemos/hello
    restart: always
    labels:
      cz.drake.proxy: "true"
  n4:
    image: nginxdemos/hello
    restart: always
    labels:
      cz.drake.proxy.domain: "www.zzz.com, ^zzz.com"
  ws:
    image: ksdn117/web-socket-test
    restart: always
    labels: 
      cz.drake.proxy.domain: "ws.drake.cz"
      cz.drake.proxy.port: "8010"
  def:
    image: nginxdemos/hello
    restart: always
    labels:
      cz.drake.proxy.domain: "*."

networks:
  default:
    driver: bridge